<?xml version="1.0" encoding="UTF-8" ?>

<project name="starterkit" default="help">

    <!-- Import helper targets. -->
    <import file="${phing.dir.starterkit}/includes/build/help.xml" />

    <target name="subsite-create-directories">
        <mkdir dir="${subsite.resources.dir}" />
    </target>

    <!-- Set include path for custom tasks. -->
    <includepath classpath="${ssk.root}/src/Phing" />
    <taskdef name="phpcsconf" classname="\NextEuropa\Phing\PhpCodeSnifferConfigurationTask" />
    <taskdef name="replaced" classname="\NextEuropa\Phing\PhingDeprecatedTask" />
    <taskdef name="drushmf" classname="\NextEuropa\Phing\DrushMakeFileTask" />
    
    <!-- Import xml files for phing. -->
    <!-- TODO: check if we can not use an autoloader to clean this build file up. -->
    <import file="${ssk.vendor}/drupal/phingdrushtask/import.xml"/>
    <import file="${ssk.vendor}/drupol/phingbehattask/import.xml"/>

    <!-- Needs to be removed when phing adds relative symlink support -->
    <!-- https://github.com/phingofficial/phing/issues/684 -->
    <!-- https://github.com/phingofficial/phing/pull/695 -->
    <echo msg="Loading Relative Symlink task." />
    <taskdef name="rel-sym" classname="\NextEuropa\Phing\RelativeSymlinkTask" />

    <!-- Import deprecated targets first to allow projects to override them. -->
    <import file="${ssk.build}/deprecated.xml" />

    <import file="build.project.xml" optional="true" />

    <!-- Import starterkit build xml files. -->
    <import>
        <fileset dir="${ssk.build}" >
            <patternset>
                <exclude name="deprecated.xml"/>
                <include name="*.xml"/>
            </patternset>
        </fileset>
    </import>

</project>
