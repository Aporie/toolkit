<?xml version="1.0" encoding="UTF-8" ?>
<project name="My subsite" default="help">

    <!-- Composer pre install CMD. -->
    <target name="composer-pre-install-cmd">
        <echo msg="Executing pre-install targets" />
    </target>

    <!-- Composer pre update CMD. -->
    <target name="composer-pre-update-cmd">
        <echo msg="Executing pre-update targets" />
    </target>

    <!-- Composer post update CMD. -->
    <target name="composer-post-update-cmd">
        <echo msg="Executing post-update targets" />
    </target>


    <!-- Composer post install CMD. -->
    <target
        name="composer-post-install-cmd"
        description="Commands to execute after composer install."
        depends="
            starterkit-link-binary,
            starterkit-copy-templates,
            drush-dl-rr,
            setup-phpcs-pre-push"
    >
    </target>

    <!-- Provide handy access with root symlink to starterkit binary. -->
    <target name="link-starterkit-binary">
        <echo msg="Provide project with starterkit binary at root level." />
        <rel-sym link="${project.basedir}/ssk" target="${subsite.starterkit.bin}" overwrite="true"/>
    </target>

    <!-- Ensure needed files are present. -->
    <target name="starterkit-copy-templates" hidden="true">
        <echo msg="Ensuring the presence of build.xml and Jenkinsfile." />
        <copy todir="${project.basedir}">
            <fileset dir="${subsite.starterkit.templates}" />
        </copy>
    </target>

</project>
