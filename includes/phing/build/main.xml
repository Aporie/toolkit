<?xml version="1.0" encoding="UTF-8" ?>

<project default="help">

    <!-- ===================================
         Naming convention for main targets.
         ===================================
         [ACTION]-[SUBJECT]
         => Build platform (package) for subsite
         => Build subsite (package) for platform
         [ACTION]-[SUBJECT]-[PROJECT-TYPE]
         => Direct callback
         ===================================
         Examples:
         ===================================
         - build-platform
         - build-platform-dev
         - build-platform-dist
         - build-platform-test
         - build-subsite
         - build-subsite-dev
         - build-subsite-dist
         - build-subsite-test
         - run-behat
         - run-behat-subsite
         - run-behat-platform
         =================================== -->

    <!-- Import helper targets if called here directly. -->
    <if>
         <available file="help.xml" />
         <then>
             <import file="help.xml" />
         </then>
     </if>

    <!-- Run full functional testing with behat. -->
    <target
        name="test-run-behat"
        description="Refresh configuration and run behat scenarios."
        depends="
            test-behat-setup,
            test-behat-exec" />

    <!-- Run a full static analysis with phpcs. -->
    <target
        name="test-run-phpcs"
        description="Refresh configuration and run phpcs review."
        depends="
            test-phpcs-setup,
            test-phpcs-exec" />

    <!-- Run a full static analysis qa console. -->
    <target
        name="test-run-qa"
        description="Refresh configuration and run qa review."
        depends="
            test-phpcs-setup,
            test-qa-exec" />

</project>
